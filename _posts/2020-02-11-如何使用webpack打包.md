---
layout:     post
title:      如何使用Webpack打包
subtitle:   各种形式文件的打包
date:       2020-02-11
author:     molifenge
header-img: img/post-bg-webpack.jpg
catalog: true
tags:
    - 前端
    - webpack
---

 前端小白，第一次写博文，也算理理自己的理论，有错请指教，各位大佬勿喷蟹蟹٩('ω')و
@[TOC]
# 一、安装配置webpack
## 1.webpack的定义
webpack是什么？官方文档的定义：

>webpack是一个现代Javascript应用程序的静态模块打包器（module bundler）。

webpack做的事情是：找到你项目中的JS模块和其他浏览器不能直接运行的扩展语言（sass、less、TS等），并打包成浏览器能够直接使用的格式。
## 2.webpcak的安装
那么，怎么安装webpack呢？
webpack安装：在命令行输入
```
npm install webpack webpack-cli -g
```
=>这里我是用的是**全局安装**webpack（代码中的-g 即 --globle），之前我在其他项目底下使用局部安装，结果在其他项目目录下要使用webpack频频出错（一直提示我安装webpack-cli），官方文档推荐使用本地安装（[指路官方文档](https://www.webpackjs.com/guides/installation/)），为了方便使用我直接全局安装，如果有谁碰到和我一样的问题（小白笑哭），指路这位大佬的博文-->[webpack坑系列--安装webpack-clit](https://segmentfault.com/a/1190000013699050?utm_source=tag-newest)，讲的很清楚了蟹蟹

安装好出现这个：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200116173116386.png)就说明全局安装成功，也可以在命令行输入`webpack -v`和`webpack-cli -v`查看webpack版本，如果出现版本号就说明安装成功了（如下）。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200116173342420.png)
## 3.webpack的配置
安装完成后，在项目根目录下新建一个`webpack.config.js`文件，在文件中添加如下节点：
```
module.exports = {
	mode:‘development’	//意思是用开发模式打包文件
}
```

然后，为了运行方便，我们在`package.json`文件中找到`scripts`节点，作如下修改：
```
scripts:{
	"dev":"webpack"
}
```
意思是在命令行用`npm run dev`命令就可以开始打包了！
# 二、各种类型文件打包
这里要说一下，webpack打包只能自动打包js文件，其他的非js文件是没法自动打包的，因此，我们需要添加对应文件的`loader`。
## 1、打包css文件
首先，要先安装`style-loader css-loader`，在命令行这样写：
```
npm install style-loader css-loader -d
```
没有出现`ERR`就说明没有问题。

第二步，在webpack.config.js里面添加如下节点：
```
module:{
	rules:[
		{test:/\.css$/,use:['style-loader','css-loader']}
	]
}
```
=>这里要解释一下：`rules`是所有第三方模块的匹配规则，它的值是一个数组，数组的元素是一个对象，每个对象都相应匹配一个第三方模块的规则。`test`指要匹配的文件后缀，`use`指对应的第三方模块`loader`(就是你刚才安装的的`loader`啦！)
## 2、打包处理less
第一步，安装`less-loader`：
```
npm install less less-loader -d
```

第二步就在`webpack.config.js`中这样写：
```
module:{
	rules:[
		{test:/\.less$/,use:['style-loader','css-loader','less-loader']}
	]
}
```
## 3、打包处理sass

第一步，安装`less-loader`：
```
npm install sass-loader  node-sass -d
```

第二步就在`webpack.config.js`中这样写：
```
module:{
	rules:[
		{test:/\.sass$/,use:['style-loader','css-loader','sass-loader']}
	]
}
```
## 4、打包处理和url路径有关的文件

第一步，安装`url-loader`：
```
npm install url-loader  file-loader -d
```

第二步就在`webpack.config.js`中这样写：
```
module:{
	rules:[
		{
			test:/\.jpg|png|gif|bmp|ttf|eot|svg|woff|woff2$/,
			use:'url-loader?limit = 16940'
		}
	]
}
```
=>注意,这里的`limit`是用来限制文件大小的。

>暂时先总结到这里啦，后期有改动再进行补充修改，谢谢看到这里的小伙伴啦，晚安~~
